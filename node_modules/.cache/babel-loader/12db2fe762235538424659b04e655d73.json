{"ast":null,"code":"import _slicedToArray from\"/Users/analiario/Desktop/GitHub repos/Owen Wilson/Owen-Wilson-wow-finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ---------- IMPORTS ----------\n// Dependencies\nimport{useState,useEffect}from\"react\";import{Routes,Route}from\"react-router-dom\";import{matchPath,useLocation}from\"react-router\";// Styles\nimport\"../styles/App.scss\";// Services\nimport getApiData from\"../services/wowApi\";import ls from\"../services/localStorage\";// Components\nimport Header from\"./Header\";import Filters from\"./Filters\";import MovieSceneList from\"./MovieSceneList\";import MovieSceneDetail from\"./MovieSceneDetail\";import Footer from\"./Footer\";import NotFoundPage from\"./NotFoundPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){// ---------- STATE VARIABLES ----------\nvar _useState=useState(ls.get(\"lsMovieScenes\",[])),_useState2=_slicedToArray(_useState,2),movieScenes=_useState2[0],setMovieScenes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),filterYear=_useState4[0],setFilterYear=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),filterMovie=_useState6[0],setFilterMovie=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),filterTotalWow=_useState8[0],setFilterTotalWow=_useState8[1];// ---------- HOOK TO GET API DATA ----------\nuseEffect(function(){if(movieScenes.length===0){getApiData().then(function(apiData){setMovieScenes(apiData);});}},[]);// ---------- HOOK FOR LOCAL STORAGE ----------\n// Save data in local storage with useEffect so that local storage stays updated after changing\n// Read local storage data and save it in useState so that they are available upon opening the page\nuseEffect(function(){ls.set(\"lsMovieScenes\",movieScenes);},[movieScenes,filterMovie]);// ---------- FUNCTION --> HANDLE MOVIE FILTER ----------\nvar handleFilterMovie=function handleFilterMovie(value){setFilterMovie(value);};// ---------- FUNCTION --> HANDLE YEAR FILTER ----------\nvar handleFilterYear=function handleFilterYear(value){setFilterYear(parseInt(value));};// The value needs to be parsed to match the type of value given by the API (number)\n// ---------- FUNCTION --> HANDLE TOTAL WOW FILTER ----------\nvar handleFilterTotalWow=function handleFilterTotalWow(value){setFilterTotalWow(parseInt(value));};// ----- CONSANT SAVING THE FILTERED SCENE LIST  -----\nvar movieSceneFilters=movieScenes// ---------- METHOD --> FILTER BY MOVIE ----------\n.filter(function(movie){return movie.movie.toLowerCase().includes(filterMovie.toLowerCase());})// ---------- METHOD --> FILTER BY TOTAL WOW ----------\n.filter(function(movie){console.log(filterTotalWow,movie.wow);return filterTotalWow===0?true:movie.wow===parseInt(filterTotalWow);})// ---------- METHOD --> FILTER BY YEAR ----------\n.filter(function(movie){return filterYear===0?true:movie.year===filterYear;});// ---------- FUNCTION TO NOT REPEAT YEARS ----------\nvar getYear=function getYear(){var movieYear=movieScenes.map(function(oneYear){return oneYear.year;});var unrepeatedYear=movieYear.filter(function(movie,index){return movieYear.indexOf(movie)===index;});return unrepeatedYear;};// -------------------- ROUTES --------------------\nvar _useLocation=useLocation(),pathname=_useLocation.pathname;var dataPath=matchPath(\"/movie/:movieId\",pathname);// console.log(dataPath);\nvar movieId=dataPath!==null?dataPath.params.movieId:null;var movieFound=movieScenes.find(function(movie){return movie.id===parseInt(movieId);});// console.log(movieId);\n// console.log(movieFound);\n// -------------------- RETURN --------------------\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Filters,{handleFilterMovie:handleFilterMovie,filterMovie:filterMovie,handleFilterTotalWow:handleFilterTotalWow,filterTotalWow:filterTotalWow,handleFilterYear:handleFilterYear,year:getYear()}),/*#__PURE__*/_jsx(MovieSceneList,{movieScenes:movieSceneFilters})]}),/*#__PURE__*/_jsx(Footer,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/movie/:movieId\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(MovieSceneDetail,{movie:movieFound})]}),/*#__PURE__*/_jsx(Footer,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","Routes","Route","matchPath","useLocation","getApiData","ls","Header","Filters","MovieSceneList","MovieSceneDetail","Footer","NotFoundPage","App","get","movieScenes","setMovieScenes","filterYear","setFilterYear","filterMovie","setFilterMovie","filterTotalWow","setFilterTotalWow","length","then","apiData","set","handleFilterMovie","value","handleFilterYear","parseInt","handleFilterTotalWow","movieSceneFilters","filter","movie","toLowerCase","includes","console","log","wow","year","getYear","movieYear","map","oneYear","unrepeatedYear","index","indexOf","pathname","dataPath","movieId","params","movieFound","find","id"],"sources":["/Users/analiario/Desktop/GitHub repos/Owen Wilson/Owen-Wilson-wow-finder/src/components/App.js"],"sourcesContent":["// ---------- IMPORTS ----------\n\n// Dependencies\nimport { useState, useEffect } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { matchPath, useLocation } from \"react-router\";\n\n// Styles\nimport \"../styles/App.scss\";\n\n// Services\nimport getApiData from \"../services/wowApi\";\nimport ls from \"../services/localStorage\";\n\n// Components\nimport Header from \"./Header\";\nimport Filters from \"./Filters\";\nimport MovieSceneList from \"./MovieSceneList\";\nimport MovieSceneDetail from \"./MovieSceneDetail\";\nimport Footer from \"./Footer\";\nimport NotFoundPage from \"./NotFoundPage\";\n\nfunction App() {\n  // ---------- STATE VARIABLES ----------\n  const [movieScenes, setMovieScenes] = useState(ls.get(\"lsMovieScenes\", []));\n  const [filterYear, setFilterYear] = useState(0);\n  const [filterMovie, setFilterMovie] = useState(\"\");\n  const [filterTotalWow, setFilterTotalWow] = useState(0);\n\n  // ---------- HOOK TO GET API DATA ----------\n  useEffect(() => {\n    if (movieScenes.length === 0) {\n      getApiData().then((apiData) => {\n        setMovieScenes(apiData);\n      });\n    }\n  }, []);\n\n  // ---------- HOOK FOR LOCAL STORAGE ----------\n  // Save data in local storage with useEffect so that local storage stays updated after changing\n  // Read local storage data and save it in useState so that they are available upon opening the page\n  useEffect(() => {\n    ls.set(\"lsMovieScenes\", movieScenes);\n  }, [movieScenes, filterMovie]);\n\n  // ---------- FUNCTION --> HANDLE MOVIE FILTER ----------\n  const handleFilterMovie = (value) => {\n    setFilterMovie(value);\n  };\n\n  // ---------- FUNCTION --> HANDLE YEAR FILTER ----------\n  const handleFilterYear = (value) => {\n    setFilterYear(parseInt(value));\n  };\n  // The value needs to be parsed to match the type of value given by the API (number)\n\n  // ---------- FUNCTION --> HANDLE TOTAL WOW FILTER ----------\n  const handleFilterTotalWow = (value) => {\n    setFilterTotalWow(parseInt(value));\n  };\n\n  // ----- CONSANT SAVING THE FILTERED SCENE LIST  -----\n  const movieSceneFilters = movieScenes\n\n    // ---------- METHOD --> FILTER BY MOVIE ----------\n    .filter((movie) => {\n      return movie.movie.toLowerCase().includes(filterMovie.toLowerCase());\n    })\n\n    // ---------- METHOD --> FILTER BY TOTAL WOW ----------\n    .filter((movie) => {\n      console.log(filterTotalWow, movie.wow);\n      return filterTotalWow === 0\n        ? true\n        : movie.wow === parseInt(filterTotalWow);\n    })\n\n    // ---------- METHOD --> FILTER BY YEAR ----------\n    .filter((movie) => {\n      return filterYear === 0 ? true : movie.year === filterYear;\n    });\n\n  // ---------- FUNCTION TO NOT REPEAT YEARS ----------\n  const getYear = () => {\n    const movieYear = movieScenes.map((oneYear) => oneYear.year);\n\n    const unrepeatedYear = movieYear.filter((movie, index) => {\n      return movieYear.indexOf(movie) === index;\n    });\n\n    return unrepeatedYear;\n  };\n\n  // -------------------- ROUTES --------------------\n  const { pathname } = useLocation();\n  const dataPath = matchPath(\"/movie/:movieId\", pathname);\n  // console.log(dataPath);\n\n  const movieId = dataPath !== null ? dataPath.params.movieId : null;\n  const movieFound = movieScenes.find(\n    (movie) => movie.id === parseInt(movieId)\n  );\n  // console.log(movieId);\n  // console.log(movieFound);\n\n  // -------------------- RETURN --------------------\n  return (\n    <>\n      <Routes>\n        <Route\n          path='/'\n          element={\n            <>\n              <div className='container'>\n                <Header />\n                <Filters\n                  handleFilterMovie={handleFilterMovie}\n                  filterMovie={filterMovie}\n                  handleFilterTotalWow={handleFilterTotalWow}\n                  filterTotalWow={filterTotalWow}\n                  handleFilterYear={handleFilterYear}\n                  year={getYear()}\n                />\n                <MovieSceneList movieScenes={movieSceneFilters} />\n              </div>\n              <Footer />\n            </>\n          }\n        />\n        <Route\n          path='/movie/:movieId'\n          element={\n            <>\n              <div className='container'>\n                <Header />\n                <MovieSceneDetail movie={movieFound} />\n              </div>\n              <Footer />\n            </>\n          }\n        />\n        <Route path='*' element={<NotFoundPage />} />\n      </Routes>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}